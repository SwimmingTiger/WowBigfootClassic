 local BLEVE_dbdf11f5b07258936fb1c5a31eaa969c = 1; local BLEVE_1b5523f0adb45c4b8ee51f89ebf6f2b2 = 0; local BEvent = {registry={},frame = nil}; BEvent.frame = CreateFrame("Frame", "BigFootEventFrame", UIparent); BEvent.frame:SetScript("OnEvent", function(self, BLEVE_d0708241b607c9a9dd1953c812fadfb7, ...) BEvent:BLEVE_c8db7dfdbccc70b6c4ca668944f139f8(BLEVE_d0708241b607c9a9dd1953c812fadfb7, ...); end) local BLEVE_96740f5a57dad2b0bc9410bc76c32e26 = setmetatable({}, {__mode = "BLEVE_63a9ce6f1eeac72ef41293b7d0303335"}); function BEvent:BLEVE_c8db7dfdbccc70b6c4ca668944f139f8(BLEVE_d0708241b607c9a9dd1953c812fadfb7, ...) assert(BLEVE_d0708241b607c9a9dd1953c812fadfb7 and type(BLEVE_d0708241b607c9a9dd1953c812fadfb7)=="string","Invalid BLEVE_d0708241b607c9a9dd1953c812fadfb7. The type of BLEVE_d0708241b607c9a9dd1953c812fadfb7 must be string."); local BLEVE_fa2167574a7f10a8ceef1d978b1d1540 = next(BLEVE_96740f5a57dad2b0bc9410bc76c32e26) or {}; BLEVE_96740f5a57dad2b0bc9410bc76c32e26[BLEVE_fa2167574a7f10a8ceef1d978b1d1540] = nil; if (BLEVE_d0708241b607c9a9dd1953c812fadfb7 and BEvent.registry[BLEVE_d0708241b607c9a9dd1953c812fadfb7]) then for BLEVE_89d99bb0d06dd535e6d6f6d9b3f04006, BLEVE_102f59c700c9d50fbbe02ae3f8f42302 in pairs(BEvent.registry[BLEVE_d0708241b607c9a9dd1953c812fadfb7]) do BLEVE_fa2167574a7f10a8ceef1d978b1d1540[BLEVE_89d99bb0d06dd535e6d6f6d9b3f04006] = BLEVE_102f59c700c9d50fbbe02ae3f8f42302; end end for BLEVE_423819614be4117387118072509b7ed9, BLEVE_a00724ebfb071ad7332b17a872f4f736 in pairs(BLEVE_fa2167574a7f10a8ceef1d978b1d1540) do if (type(BLEVE_a00724ebfb071ad7332b17a872f4f736) == "string") then if (BLEVE_423819614be4117387118072509b7ed9[BLEVE_a00724ebfb071ad7332b17a872f4f736] and type(BLEVE_423819614be4117387118072509b7ed9[BLEVE_a00724ebfb071ad7332b17a872f4f736]) == "function") then BLEVE_423819614be4117387118072509b7ed9[BLEVE_a00724ebfb071ad7332b17a872f4f736](BLEVE_423819614be4117387118072509b7ed9, ...); end elseif (BLEVE_a00724ebfb071ad7332b17a872f4f736 and type(BLEVE_a00724ebfb071ad7332b17a872f4f736) == "function") then BLEVE_a00724ebfb071ad7332b17a872f4f736(BLEVE_d0708241b607c9a9dd1953c812fadfb7, ...); end BLEVE_fa2167574a7f10a8ceef1d978b1d1540[BLEVE_423819614be4117387118072509b7ed9] = nil; end end function BEvent:RegisterEvent(BLEVE_d0708241b607c9a9dd1953c812fadfb7, BLEVE_102f59c700c9d50fbbe02ae3f8f42302) assert(BLEVE_d0708241b607c9a9dd1953c812fadfb7 and type(BLEVE_d0708241b607c9a9dd1953c812fadfb7) == "string", "BEvent: Invalid event. The type of event must be string."); BLEVE_102f59c700c9d50fbbe02ae3f8f42302 = BLEVE_102f59c700c9d50fbbe02ae3f8f42302 or BLEVE_d0708241b607c9a9dd1953c812fadfb7; if (not BEvent.registry[BLEVE_d0708241b607c9a9dd1953c812fadfb7]) then BEvent.registry[BLEVE_d0708241b607c9a9dd1953c812fadfb7] = {}; BEvent.frame:RegisterEvent(BLEVE_d0708241b607c9a9dd1953c812fadfb7); end BEvent.registry[BLEVE_d0708241b607c9a9dd1953c812fadfb7][self] = BLEVE_102f59c700c9d50fbbe02ae3f8f42302; end function BEvent:UnregisterEvent(BLEVE_d0708241b607c9a9dd1953c812fadfb7, BLEVE_102f59c700c9d50fbbe02ae3f8f42302) assert(type(BLEVE_d0708241b607c9a9dd1953c812fadfb7)=="string","Invalid event. The type of event must be string."); if (BEvent.registry[BLEVE_d0708241b607c9a9dd1953c812fadfb7] and BEvent.registry[BLEVE_d0708241b607c9a9dd1953c812fadfb7][self]) then BEvent.registry[BLEVE_d0708241b607c9a9dd1953c812fadfb7][self] = nil; if (not next(BEvent.registry[BLEVE_d0708241b607c9a9dd1953c812fadfb7])) then BEvent.registry[BLEVE_d0708241b607c9a9dd1953c812fadfb7] = nil BEvent.frame:UnregisterEvent(BLEVE_d0708241b607c9a9dd1953c812fadfb7) end end end function BEvent:UnregisterAllEvent() for BLEVE_d0708241b607c9a9dd1953c812fadfb7, BLEVE_8e6c2aaeb6b11f026ff5cb0a29aebe68 in pairs(BEvent.registry) do if (BLEVE_8e6c2aaeb6b11f026ff5cb0a29aebe68[self]) then self:UnregisterEvent(BLEVE_d0708241b607c9a9dd1953c812fadfb7); end end end BEvent.Initialization = {}; function BEvent:Init(...) local BLEVE_b4d3314490a868cf61f5fbd057900b0b = select(1, ...); BLEVE_b4d3314490a868cf61f5fbd057900b0b = type(BLEVE_b4d3314490a868cf61f5fbd057900b0b) == "table" and BLEVE_b4d3314490a868cf61f5fbd057900b0b or {}; BLEVE_b4d3314490a868cf61f5fbd057900b0b.name = BLEVE_b4d3314490a868cf61f5fbd057900b0b.name or BLEVE_b4d3314490a868cf61f5fbd057900b0b[1] or "Unknown"; BLEVE_b4d3314490a868cf61f5fbd057900b0b.func = BLEVE_b4d3314490a868cf61f5fbd057900b0b.func or BLEVE_b4d3314490a868cf61f5fbd057900b0b[2] or function() end; BEvent:RegisterEvent("ADDON_LOADED"); table.insert(BEvent.Initialization, BLEVE_b4d3314490a868cf61f5fbd057900b0b); end function BEvent.ADDON_LOADED(...) local _,arg1 = ... local BLEVE_63a9ce6f1eeac72ef41293b7d0303335, BLEVE_8d0644c92128c1ff68223fd74ba63b56; for BLEVE_63a9ce6f1eeac72ef41293b7d0303335, BLEVE_8d0644c92128c1ff68223fd74ba63b56 in pairs(BEvent.Initialization) do if (arg1 == BLEVE_8d0644c92128c1ff68223fd74ba63b56.name) then assert(BLEVE_8d0644c92128c1ff68223fd74ba63b56.func, string.format("<%s> need a init function", BLEVE_8d0644c92128c1ff68223fd74ba63b56.name)); BLEVE_8d0644c92128c1ff68223fd74ba63b56:func(); table.remove(BEvent.Initialization, BLEVE_63a9ce6f1eeac72ef41293b7d0303335); break; end end end function BEvent:constructor() end BLibrary:Register(BEvent,"BEvent",BLEVE_dbdf11f5b07258936fb1c5a31eaa969c,BLEVE_1b5523f0adb45c4b8ee51f89ebf6f2b2); 
