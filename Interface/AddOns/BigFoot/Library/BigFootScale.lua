 local BLSCA_dbdf11f5b07258936fb1c5a31eaa969c = 1; local BLSCA_1b5523f0adb45c4b8ee51f89ebf6f2b2 = 0; local BScale = {}; local function BLSCA_391d78be8cd75f94fdabb3c3607320f6(BLSCA_411b8aa6d5954c6020f0b9c9e80e847a, BLSCA_1346009d8936868590c1d007e3efcfae) BLSCA_1346009d8936868590c1d007e3efcfae = BLSCA_1346009d8936868590c1d007e3efcfae or UIParent; local BLSCA_4e0a062a388e29d4bf2e9c2dba5d6d18 = BLSCA_1346009d8936868590c1d007e3efcfae:GetRight()/BLSCA_411b8aa6d5954c6020f0b9c9e80e847a:GetScale(); local BLSCA_4845dcb186992213ddd66d11d248ca10 = BLSCA_1346009d8936868590c1d007e3efcfae:GetTop()/BLSCA_411b8aa6d5954c6020f0b9c9e80e847a:GetScale(); local BLSCA_0273923d6c5c6a7963a964a97885cb41 = BLSCA_411b8aa6d5954c6020f0b9c9e80e847a:GetRight(); local BLSCA_4d1cba81a5f3aaeb91e0bbb6dd482b32 = BLSCA_411b8aa6d5954c6020f0b9c9e80e847a:GetTop(); local BLSCA_05046f3bd52e7289c52881d983bc7179 = BLSCA_411b8aa6d5954c6020f0b9c9e80e847a:GetLeft(); local BLSCA_79af1dd4b579612573bca88bd9393bca = BLSCA_411b8aa6d5954c6020f0b9c9e80e847a:GetBottom(); if (BLSCA_0273923d6c5c6a7963a964a97885cb41 and BLSCA_4d1cba81a5f3aaeb91e0bbb6dd482b32 and BLSCA_05046f3bd52e7289c52881d983bc7179 and BLSCA_79af1dd4b579612573bca88bd9393bca) then local BLSCA_b254e387cf58e982ba24fcb3e8a63995 = (BLSCA_0273923d6c5c6a7963a964a97885cb41 > BLSCA_4e0a062a388e29d4bf2e9c2dba5d6d18 and (BLSCA_4e0a062a388e29d4bf2e9c2dba5d6d18-BLSCA_0273923d6c5c6a7963a964a97885cb41)) or (BLSCA_05046f3bd52e7289c52881d983bc7179 < 0 and (0-BLSCA_05046f3bd52e7289c52881d983bc7179)) or 0; local BLSCA_a0f453fd098c0b0fda780f69cda6ffbf = (BLSCA_4d1cba81a5f3aaeb91e0bbb6dd482b32 > BLSCA_4845dcb186992213ddd66d11d248ca10 and (BLSCA_4845dcb186992213ddd66d11d248ca10-BLSCA_4d1cba81a5f3aaeb91e0bbb6dd482b32)) or (BLSCA_79af1dd4b579612573bca88bd9393bca < 0 and (0-BLSCA_79af1dd4b579612573bca88bd9393bca)) or 0; BLSCA_b254e387cf58e982ba24fcb3e8a63995 = (BLSCA_b254e387cf58e982ba24fcb3e8a63995 + BLSCA_05046f3bd52e7289c52881d983bc7179); BLSCA_a0f453fd098c0b0fda780f69cda6ffbf = (BLSCA_a0f453fd098c0b0fda780f69cda6ffbf + BLSCA_4d1cba81a5f3aaeb91e0bbb6dd482b32); if (BLSCA_b254e387cf58e982ba24fcb3e8a63995~=0 or BLSCA_a0f453fd098c0b0fda780f69cda6ffbf~=0) then BLSCA_411b8aa6d5954c6020f0b9c9e80e847a:SetPoint("TOPLEFT", BLSCA_1346009d8936868590c1d007e3efcfae, "BOTTOMLEFT",BLSCA_b254e387cf58e982ba24fcb3e8a63995, BLSCA_a0f453fd098c0b0fda780f69cda6ffbf); end end end function BScale:SetPoint(BLSCA_411b8aa6d5954c6020f0b9c9e80e847a, BLSCA_7dce5c33f0d4836b30c14f18b2fc43f7,BLSCA_ca419ffef1b6a70d3765ee23720dcdb7,relativePoint, BLSCA_b0e97041a98efeaf027801ac5f63b882, BLSCA_fc1a2e8123dbe055ed6fd6d145898303) local BLSCA_1346009d8936868590c1d007e3efcfae = BLSCA_411b8aa6d5954c6020f0b9c9e80e847a:GetParent() or UIParent; BLSCA_b0e97041a98efeaf027801ac5f63b882 = BLSCA_b0e97041a98efeaf027801ac5f63b882/BLSCA_1346009d8936868590c1d007e3efcfae:GetScale(); BLSCA_fc1a2e8123dbe055ed6fd6d145898303 = BLSCA_fc1a2e8123dbe055ed6fd6d145898303/Parnet:GetScale(); BLSCA_411b8aa6d5954c6020f0b9c9e80e847a:SetPoint(BLSCA_7dce5c33f0d4836b30c14f18b2fc43f7,BLSCA_ca419ffef1b6a70d3765ee23720dcdb7,relativePoint, BLSCA_b0e97041a98efeaf027801ac5f63b882, BLSCA_fc1a2e8123dbe055ed6fd6d145898303); BLSCA_391d78be8cd75f94fdabb3c3607320f6(BLSCA_411b8aa6d5954c6020f0b9c9e80e847a, BLSCA_1346009d8936868590c1d007e3efcfae); end local function BLSCA_e850d39c00b42c6c8a2873ebee73e4a5(BLSCA_411b8aa6d5954c6020f0b9c9e80e847a, BLSCA_6188847d8059cc6f73041de255401a71) if (not (BLSCA_411b8aa6d5954c6020f0b9c9e80e847a:GetTop() and BLSCA_411b8aa6d5954c6020f0b9c9e80e847a:GetLeft())) then return nil; end local BLSCA_b254e387cf58e982ba24fcb3e8a63995 = BLSCA_411b8aa6d5954c6020f0b9c9e80e847a:GetLeft() * BLSCA_411b8aa6d5954c6020f0b9c9e80e847a:GetScale() / BLSCA_6188847d8059cc6f73041de255401a71; local BLSCA_a0f453fd098c0b0fda780f69cda6ffbf = BLSCA_411b8aa6d5954c6020f0b9c9e80e847a:GetTop() * BLSCA_411b8aa6d5954c6020f0b9c9e80e847a:GetScale() / BLSCA_6188847d8059cc6f73041de255401a71; return BLSCA_b254e387cf58e982ba24fcb3e8a63995, BLSCA_a0f453fd098c0b0fda780f69cda6ffbf; end function BScale:SetScale(BLSCA_411b8aa6d5954c6020f0b9c9e80e847a, BLSCA_6188847d8059cc6f73041de255401a71) assert(type(BLSCA_6188847d8059cc6f73041de255401a71) == "number", "Invalid <scale>, the type of scale must be number."); local BLSCA_b254e387cf58e982ba24fcb3e8a63995, BLSCA_a0f453fd098c0b0fda780f69cda6ffbf = BLSCA_e850d39c00b42c6c8a2873ebee73e4a5(BLSCA_411b8aa6d5954c6020f0b9c9e80e847a, BLSCA_6188847d8059cc6f73041de255401a71); BLSCA_411b8aa6d5954c6020f0b9c9e80e847a:SetScale(BLSCA_6188847d8059cc6f73041de255401a71); BLSCA_411b8aa6d5954c6020f0b9c9e80e847a:ClearAllPoints(); BLSCA_411b8aa6d5954c6020f0b9c9e80e847a:SetPoint("TOPLEFT", UIParent, "BOTTOMLEFT", BLSCA_b254e387cf58e982ba24fcb3e8a63995, BLSCA_a0f453fd098c0b0fda780f69cda6ffbf); BLSCA_391d78be8cd75f94fdabb3c3607320f6(BLSCA_411b8aa6d5954c6020f0b9c9e80e847a); end function BScale:StartScaling(button) if ( button == "LeftButton" ) then self.frame:LockHighlight(); local frame = self.frame:GetParent(); self.FrameToScale = frame; self.ScalingWidth = frame:GetWidth(); local oldscale, framescale = frame:GetEffectiveScale(), frame:GetScale(); local topleftX, cursorX = frame:GetLeft() * oldscale, GetCursorPosition(); self.ScaleX = TrinketMenu.ScalingWidth * framescale / (cursorX - topleftX); self.frame.updateframe:Show(); end end function BScale:StopScaling(button) if ( button == "LeftButton" ) then self.frame.updateframe:Hide(); self.frame:UnlockHighlight(); self.scale = self.FrameToScale:GetScale(); self.FrameToScale = nil end end function BScale:Scaling() local frame = self.FrameToScale; local oldscale = frame:GetEffectiveScale(); local frameX, cursorX = frame:GetLeft() * oldscale, GetCursorPosition(); cursorX = frameX + (cursorX - frameX) * self.ScaleX; if ((cursorX - frameX) > self.minwidth) then local newscale = (cursorX-frameX) / self.ScalingWidth; self:SetScale(frame, newscale); end end function BScale:Create(parent, width, height, minwidth) assert(type(parent) == "table", "BScale: The frame to scale must be a UI Object."); assert(type(width) == "number", "BScale: The parameter width must be a number vale."); assert(type(height) == "number", "BScale: The parameter height must be a number vale."); local minwidth = type(minwidth) == "number" and minwidth or 32; slef.minwidth = minwidth; self.frame = CreateFrame("Button", parent:GetName() .. "Resize", parent); self.frame:SetNormalTexture("Interface\\AddOns\\BigFoot\\Library\\Artworks\\ResizeButton"); self.frame:SetHighlightTexture("Interface\\AddOns\\BigFoot\\Library\\Artworks\\ResizeButton"); self.frame:SetWidth(width); self.frame:SetHeight(height); self.frame:SetPoint("BOTTOMRIGHT", parent, "BOTTOMRIGHT", 0, 0); self.frame.updateframe = CreateFrame("Frame", nil, self.frame); self.scale = 1; self.frame:SetScript("OnLoad", function(self) self:SetFrameLevel(self:GetFrameLevel()+2); end); self.frame:SetScript("OnMouseDown", function(self, button) BScale:StartScaling(button); end); self.frame:SetScript("OnMouseUp", function(self, button) BScale:StopScaling(button); end); self.frame.updateframe:SetScript("OnUpdate", function(self) BScale:Scaling(); end); end function BScale:InitScale(scale) if (self.frame) then self:SetScale(self.frame:GetParent(), scale); end end function BScale:GetScale() if (self.frame) then return self.scale; else return nil; end end function BScale:ClearAllPoints() if (self.frame) then self.frame:ClearAllPoints(); end end function BScale:SetPoint(...) if (self.frame) then self.frame:SetPoint(...); end end function BScale:SetWidth(width) if (self.frame) then self.frame:SetWidth(width); end end function BScale:SetHeight(height) if (self.frame) then self.frame:SetHeight(height); end end function BScale:constructor(parent, width, height, minwidth) if (parent and width and height) then self:Create(parent, width, height); end end BLibrary:Register(BScale,"BScale",BLSCA_dbdf11f5b07258936fb1c5a31eaa969c,BLSCA_1b5523f0adb45c4b8ee51f89ebf6f2b2); 
